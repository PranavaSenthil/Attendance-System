<!DOCTYPE html>
<html>
<head>
    <title>Guard Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <h1>Guard Details</h1>
    {% if messages %}
                                {% for message in messages %}
                                    <div class="alert {{ message.tags }}">{{ message }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <style>
                            .alert {
                        padding: 10px;
                        margin: 10px 0;
                        border-radius: 5px;
                        font-size: 16px;
                        position: relative;
                        animation: fadeOut 5s forwards; 
                    }

                    @keyframes fadeOut {
                        0% {
                            opacity: 1;
                        }
                        90% {
                            opacity: 1;
                        }
                        100% {
                            opacity: 0;
                            height: 0;
                            margin: 0;
                            padding: 0;
                            overflow: hidden;
                        }
                    }
                    .alert.success {
                        background-color: #d4edda;
                        color: #155724;
                    }

                    .alert.error {
                        background-color: #f8d7da;
                        color: #721c24;
                    }

                    .alert.info {
                        background-color: #d1ecf1;
                        color: #0c5460;
                    }

                    .alert.warning {
                        background-color: #fff3cd;
                        color: #856404;
                    }
                        </style>
                        <table class="table">
                            <thead>
                                <tr>
                                            <th>Guard Name</th>
                                            <th>Selfie</th>
                                            <th>Status</th>
                                        </tr>
                            </thead>
  <tbody>
    {% for detail in guard_details %}
                <tr>
                    <td>{{ detail.guard.user.get_full_name|default:detail.guard.user.username }}</td>
                    <td>
                        {% if detail.latest_attendance %}
                            <img src="{{ detail.latest_attendance.selfie.url }}" alt="Selfie" style="width:100px;"/>
                        {% else %}
                            No selfie uploaded
                        {% endif %}
                    </td>
                    <td>{{ detail.status }}</td>
                </tr>
            {% endfor %}
  </tbody>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>
